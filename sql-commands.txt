create table author(
	id uuid not null primary key,
	name varchar(100) not null,
	birth_date date not null,
	nationality varchar(50) not null,
    registration_date timestamp,
    update_date timestamp,
    user_id uuid
);

create table book(
	id uuid not null primary key,
	isbn varchar(20) not null unique,
	title varchar(150) not null,
	publication_date date not null,
	genre varchar(30) not null,
	price numeric(18,2),
	registration_date timestamp,
    update_date timestamp,
    user_id uuid,
	author_id uuid not null references author(id),
	constraint chk_genre check (genre in ('FICTION', 'FANTASY', 'MISTERY', 'ROMANCE', 'BIOGRAPHY', 'SCIENCE'))
);

create table users(
    id uuid not null primary key,
    login varchar(20) not null unique,
    password varchar(300) not null,
    roles varchar[]
);
